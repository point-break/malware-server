import Strategy from 'model/Strategy'
import User from 'model/User'
import Alarm from 'model/Alarm'
import Location from 'model/Location'

Strategy.belongsTo(User, 'user', 'userId', 'id')

Alarm.hasAndBelongsToMany(User, 'creator', 'id', 'id')

User.hasAndBelongsToMany(Alarm, 'alarm', 'id', 'id', {type: "alarm"})
User.hasAndBelongsToMany(Alarm, 'alert', 'id', 'id', {type: "alert"})

Alarm.ensureIndex('location', {geo: true})
Location.ensureIndex('location', {geo: true})

export {Strategy, User, Alarm, Location}
