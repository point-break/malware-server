import {Strategy as GitHubStrategy} from 'passport-github'

export default new GitHubStrategy({
    clientID: process.env.GITHUB_CLIENT_ID,
    clientSecret: process.env.GITHUB_SECRET,
    callbackURL: `${process.env.BACKEND_API_URL}/auth/github/callback`
  },
  (accessToken, refreshToken, profile, cb) => {
    const strategy = {
      strategy: 'github',
      _id: profile.id
    }
    const user = {
      preferredName: profile.displayName
    }
    cb(null, strategy, user)
  }
)
